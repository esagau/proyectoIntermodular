{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introducci\u00f3","text":""},{"location":"#introduccio","title":"Introducci\u00f3","text":"<p>Les aplicacions inform\u00e0tiques utilitzades en l\u2019actualitat per a la gesti\u00f3 de qualsevol organitzaci\u00f3 mouen una quantitat considerable de dades que s\u2019emmagatzemen en bases de dades gestionades per sistemes gestors de bases de dades (SGBD).</p> <p>Hi ha bases de dades ofim\u00e0tiques, com ara Ms-Access o Base de l\u2019OpenOffice, que donen prou prestacions per emmagatzemar informaci\u00f3 que podr\u00edem anomenar dom\u00e8stica. En podem trobar molts exemples: base de dades per organitzar els nostres volums musicals (discos, CD...), base de dades per portar la comptabilitat dom\u00e8stica, base de dades per gestionar les fotos que tenim a casa, base de dades per gestionar els llibres de la nostra biblioteca... I, tamb\u00e9, per qu\u00e8 no, gestionar les dades de petites organitzacions empresarials (botigues, tallers...). Per\u00f2 les bases de dades ofim\u00e0tiques acostumen a no tenir prou recursos quan es tracta de gestionar grans volums d\u2019informaci\u00f3 a la qual han de poder accedir molts usuaris simult\u00e0niament des de la xarxa local i tamb\u00e9 des de llocs de treball remots i, per aquest motiu, apareixen les bases de dades corporatives.</p> <p>Tots els SGBD (ofim\u00e0tics i corporatius) incorporen el llenguatge SQL (structured query language) per poder donar instruccions al sistema gestor i aix\u00ed poder efectuar altes, baixes, consultes i modificacions, i crear les estructures de dades (taules i \u00edndexs), i als usuaris perqu\u00e8 puguin accedir a les bases de dades, concedirlos i revocar-los permisos d\u2019acc\u00e9s... El treball en SGBD ofim\u00e0tics s\u2019acostuma a efectuar sense utilitzar aquest llenguatge, ja que la interf\u00edcie gr\u00e0fica que aporta l\u2019entorn acostuma a permetre qualsevol tipus d\u2019operaci\u00f3. Els SGBD corporatius tamb\u00e9 aporten (cada vegada m\u00e9s) interf\u00edcies gr\u00e0fiques potents que permeten efectuar moltes operacions per\u00f2, tot i aix\u00ed, es fa necessari el coneixement del llenguatge SQL per efectuar m\u00faltiples tasques.</p> <p>En aquesta unitat, \u201cLlenguatge SQL. Consultes\u201d, farem els primers passos en el coneixement del llenguatge SQL, i ens introduirem en els tipus de dades que pot gestionar i en el disseny de consultes senzilles a la base de dades, per passar a ampliar el nostre coneixement sobre el llenguatge SQL per tal d\u2019aprofitar tota la pot\u00e8ncia que d\u00f3na en l\u2019\u00e0mbit de la consulta d\u2019informaci\u00f3. Aix\u00ed, per exemple, aprendrem a ordenar la informaci\u00f3, a agrupar-la efectuant-hi filtratges per reduir el nombre de resultats, a combinar resultats de diferents consultes... \u00c9s a dir, que aquest llenguatge \u00e9s una meravella que possibilita efectuar qualsevol tipus de consulta sobre una base de dades per obtenir la informaci\u00f3 volguda.</p> <p>Concretament, en l\u2019apartat \u201cConsultes de selecci\u00f3 simples\u201d es fa una breu introducci\u00f3 als diferents tipus de sent\u00e8ncies SQL per a passar a veure els tipus de dades que suporta MySQL (SGBD amb el que es treballa en aquests materials) i per acabar veient l\u2019estructura b\u00e0sica de la sent\u00e8ncia de selecci\u00f3 SELECT.</p> <p>En l\u2019apartat \u201cConsultes de selecci\u00f3 complexes\u201d es donaran a con\u00e8ixer les funcions m\u00e9s importants que incorpora MySQL, aix\u00ed com algunes cl\u00e0usules opcionals de la sent\u00e8ncia de selecci\u00f3 SELECT que permeten ordenar o agrupar files o combinar diverses taules.</p> <p>Tamb\u00e9 trobareu un \u201cAnnex 1. MySQL\u201d que us guiar\u00e0 durant la instal\u00b7laci\u00f3 de MySQL i d\u00f3na unes indicacions per a donar els primers passos en aquest entorn on es treballar\u00e0 al llarg de tota la unitat.</p> <p>Per adquirir un bon coneixement del llenguatge SQL, \u00e9s necessari que aneu reproduint en el vostre ordinador tots els exemples incorporats en el text, i tamb\u00e9 les activitats i els exercicis d\u2019autoavaluaci\u00f3. I per a aix\u00f2, utilitzarem l\u2019SGBD MySQL i les eines adequades seguint les instruccions del material web d\u2019aquest m\u00f2dul.</p>"},{"location":"#resultats-daprenentatge","title":"Resultats d'aprenentatge","text":"<p>En finalitzar aquesta unitat l\u2019alumne/a:</p> <ol> <li> <p>Consulta la informaci\u00f3 emmagatzemada en una base de dades emprant assistents, eines gr\u00e0fiques i el llenguatge de manipulaci\u00f3 de dades.</p> <ul> <li> <p>Identifica les funcions, la sintaxi i les ordres b\u00e0siques del llenguatge SQL per consultar i modificar les dades de la base de dades de manera interactiva.</p> </li> <li> <p>Empra assistents, eines gr\u00e0fiques i el llenguatge de manipulaci\u00f3 de dades sobre un SGBDR corporatiu de manera interactiva i tenint en compte les regles sint\u00e0ctiques.</p> </li> <li> <p>Fa consultes simples de selecci\u00f3 sobre una taula (amb restricci\u00f3 i ordenaci\u00f3) per consultar les dades d\u2019una base de dades.</p> </li> <li> <p>Fa consultes utilitzant funcions afegides i valors nuls.</p> </li> <li> <p>Fa consultes amb diverses taules mitjan\u00e7ant composicions internes.</p> </li> <li> <p>Fa consultes amb diverses taules mitjan\u00e7ant composicions externes.</p> </li> <li> <p>Fa consultes amb subconsultes.</p> </li> </ul> </li> </ol>"},{"location":"altreselements/","title":"Altres Elements","text":""},{"location":"altreselements/#elementos-anadidos","title":"Elementos a\u00f1adidos","text":"<pre><code>    CREATE TABLE sizes (\n        name ENUM('small', 'medium', 'large')\n        );\n</code></pre> <p>Los sistemas de bases de datos relacionales son un avance significativo sobre los sistemas anteriores en t\u00e9rminos de flexibilidad y facilidad para manipular grandes cantidades de datos.</p> <p>Edgar F. Codd</p> <p>Descarrega ac\u00ed MySQL Workbench</p> <p></p> <p>Anotaci\u00f3</p> <p>Esto es una prova de nota.</p> <p>Compte!</p> <p>Prova de nota de warning.</p> <p>Perill!</p> <p>Prova de nota de perill.</p>"},{"location":"apartat1/","title":"Consultes de selecci\u00f3 simples","text":""},{"location":"apartat1/#1-consultes-de-seleccio-simples","title":"1. Consultes de selecci\u00f3 simples","text":"<p>La millor manera d\u2019iniciar l\u2019estudi del llenguatge SQL \u00e9s executar consultes senzilles en la base de dades. Abans, per\u00f2, ens conv\u00e9 con\u00e8ixer els or\u00edgens i evoluci\u00f3 que ha tingut aquest llenguatge, els diferents tipus de sent\u00e8ncies SQL existents (subdivisi\u00f3 del llenguatge SQL), com tamb\u00e9 els diferents tipus de dades (nombres, dates, cadenes...) que ens podem trobar emmagatzemades en les bases de dades. I, llavors, ja ens podrem iniciar en l\u2019execuci\u00f3 de consultes simples.</p>"},{"location":"apartat1/#11-origens-i-evolucio-del-llenguatge-sql-sota-el-guiatge-dels-sgbd","title":"1.1. Or\u00edgens i evoluci\u00f3 del llenguatge SQL sota el guiatge dels SGBD","text":"<p>El model relacional en qu\u00e8 es basen els SGBD actuals va ser presentat el 1970 pel matem\u00e0tic Edgar Frank Codd, que treballava en els laboratoris d\u2019investigaci\u00f3 de l\u2019empresa d\u2019inform\u00e0tica IBM. Un dels primers SGBD relacionals a apar\u00e8ixer va ser el System R d\u2019IBM, que es va desenvolupar com a prototip per provar la funcionalitat del model relacional i que anava acompanyat del llenguatge SEQUEL (acr\u00f2nim de Structured English Query Language) per manipular i accedir a les dades emmagatzemades en el System R. Posteriorment, el mot SEQUEL es va condensar en SQL (acr\u00f2nim de Structured Query Language).</p> <p>Una vegada comprovada l\u2019efici\u00e8ncia del model relacional i del llenguatge SQL, es va iniciar una dura cursa entre diferents marques comercials. Aix\u00ed, tenim el seg\u00fcent:</p> <ul> <li> <p>IBM comercialitza diversos productes relacionals amb el llenguatge SQL: System/38 el 1979, SQL/DS el 1981, i DB2 el 1983.</p> </li> <li> <p>Relational Software, Inc. (actualment, Oracle Corporation) crea la seva pr\u00f2pia versi\u00f3 de SGBD relacional per a la Marina dels EUA, la CIA i d\u2019altres, i l\u2019estiu del 1979 allibera Oracle V2 (versi\u00f3 2) per a les computadores VAX (les grans competidores de l\u2019\u00e8poca amb les computadores d\u2019IBM).</p> </li> </ul> <p>El llenguatge SQL va evolucionar (cada marca comercial seguia el seu propi criteri) fins que els principals organismes d\u2019estandarditzaci\u00f3 hi van intervenir per obligar els diferents SGBD relacionals a implementar una versi\u00f3 comuna del llenguatge i, aix\u00ed, el 1986 l\u2019ANSI (American National Standards Institute) publica l\u2019est\u00e0ndard SQL-86, que el 1987 \u00e9s ratificat per l\u2019ISO (Organitzaci\u00f3 Internacional per a la Normalitzaci\u00f3, o International Organization for Standardization en angl\u00e8s).</p> <p>La taula 1.1 presenta les diferents revisions de l\u2019est\u00e0ndard SQL que han aparegut des de 1986. No ens cal saber qu\u00e8 ha aportat cada revisi\u00f3, sin\u00f3 que aquestes revisions han existit.</p>"},{"location":"apartat1/#taula-11-revisions-de-lensandard-sql-taula","title":"Taula 1.1 Revisions de l'ens\u00e0ndard SQL { #taula }","text":"Any Revisi\u00f3 \u00c0lies Comentaris 1986 SQL-86 SQL-87 / SQL1 Publicat per l'ANSI el 1986, i ratificat per l'ISO el 1987. 1989 SQL-89 Petita revisi\u00f3. 1992 SQL-92 SQL2 Gran revisi\u00f3. 1999 SQL:1999 SQL3 Introdueix consultes recursives, disparadors... 2003 SQL:2003 Introdueix temes d'XML, funcions Windows... 2006 SQL:2006"},{"location":"apartat1/#12-tipus-de-sentencies-sql","title":"1.2. Tipus de sent\u00e8ncies SQL","text":"<p>Els SGBD relacionals incorporen el llenguatge SQL per executar diferents tipus de tasques en les bases de dades: definici\u00f3 de dades, consulta de dades, actualitzaci\u00f3 de dades, definici\u00f3 d\u2019usuaris, concessi\u00f3 de privilegis... Per aquest motiu, les sent\u00e8ncies que aporta el llenguatge SQL s\u2019acostumen a agrupar en les seg\u00fcents:</p> <ol> <li> <p>Sent\u00e8ncies destinades a la definici\u00f3 de les dades (LDD), que permeten definir els objectes (taules, camps, valors possibles, regles d\u2019integritat referencial, restriccions...).</p> </li> <li> <p>Sent\u00e8ncies destinades al control sobre les dades (LCD), que permeten concedir i retirar permisos sobre els diferents objectes de la base de dades.</p> </li> <li> <p>Sent\u00e8ncies destinades a la consulta de les dades (LC), que permeten accedir a les dades en mode consulta.</p> </li> <li> <p>Sent\u00e8ncies destinades a la manipulaci\u00f3 de les dades (LMD), que permeten actualitzar la base de dades (altes, baixes i modificacions).</p> </li> </ol> <p>En alguns SGBD no hi ha distinci\u00f3 entre LC i LMD, i \u00fanicament es parla d\u2019LMD per a les consultes i actualitzacions. De la mateixa manera, a vegades s\u2019inclouen les sent\u00e8ncies de control (LCD) juntament amb les de definici\u00f3 de dades (LDD). No t\u00e9 cap import\u00e0ncia que s\u2019incloguin en un grup o que siguin un grup propi: \u00e9s una simple classificaci\u00f3.</p> <p>Tots aquests llenguatges acostumen a tenir una sintaxi senzilla, similar a les ordres de consola per a un sistema operatiu, anomenada sintaxi auto-suficient.</p> <p>SQL allotjat Les sent\u00e8ncies SQL poden presentar, per\u00f2, una segona sintaxi, sintaxi allotjada, consistent en un conjunt de sent\u00e8ncies que s\u00f3n admeses dins d\u2019un llenguatge de  programaci\u00f3 anomenat llenguatge amfitri\u00f3.</p> <p>Aix\u00ed, podem trobar LC i LMD que es poden allotjar en llenguatges de tercera generaci\u00f3 com C, Cobol, Fortran..., i en llenguatges de quarta generaci\u00f3.</p> <p>Els SGBD acostumen a incloure un llenguatge de tercera generaci\u00f3 que permet allotjar sent\u00e8ncies SQL en petites unitats de programaci\u00f3 (funcions o procediments). Aix\u00ed, l\u2019SGBD Oracle incorpora el llenguatge PL/SQL, l\u2019SGBD SQLServer incorpora el llenguatge Transact-SQL, l\u2019SGBD MySQL 5.x segueix la sintaxi SQL 2003 per a la definici\u00f3 de rutines de la mateixa manera que l\u2019SGBD DB2 d\u2019IBM.</p>"},{"location":"apartat2/","title":"Consultes de selecci\u00f3 complexes","text":""},{"location":"apartat2/#2-consultes-de-seleccio-complexes","title":"2. Consultes de selecci\u00f3 complexes","text":"<p>Una vegada coneixem els tipus de dades que facilita l\u2019SGBD i sabem utilitzar la sent\u00e8ncia SELECT per a l\u2019obtenci\u00f3 d\u2019informaci\u00f3 de la base de dades amb la utilitzaci\u00f3 de les cl\u00e0usules select (selecci\u00f3 de columnes i/o expressions), from (selecci\u00f3 de les taules corresponents) i where (filtratge adequat de les files que interessen), estem en condicions d\u2019aprofundir en les possibilitats que t\u00e9 la sent\u00e8ncia SELECT, ja que nom\u00e9s en coneixem les cl\u00e0usules b\u00e0siques. A l\u2019hora d\u2019obtenir informaci\u00f3 de la base de dades, ens interessa poder incorporar, en les expressions de les cl\u00e0usules select i where, c\u00e0lculs gen\u00e8rics que els SGBD faciliten amb funcions incorporades (c\u00e0lculs com el valor absolut, arrodoniments, truncaments, extracci\u00f3 de subcadenes en cadenes de car\u00e0cters, extracci\u00f3 de l\u2019any, mes o dia en dates...), com tamb\u00e9 poder efectuar consultes m\u00e9s complexes que permetin classificar la informaci\u00f3, efectuar agrupaments de files, realitzar combinacions entre diferents taules i incloure els resultats de consultes dins altres consultes.</p>"},{"location":"apartat2/#21-funcions-incorporades-a-mysql","title":"2.1 Funcions incorporades a MySQL","text":"<p>Els SGBD acostumen a incorporar funcions utilitzables des del llenguatge SQL. El llenguatge SQL, en si mateix, no incorpora funcions gen\u00e8riques, a excepci\u00f3 de les anomenades funcions d\u2019agrupament.</p>"}]}